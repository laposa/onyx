<!-- BEGIN: title -->User Edit<!-- END: title -->
<!-- BEGIN: content -->
{MESSAGES}

<script type="text/javascript">  
    $(document).ready(function(){  
        $("#client-customer-edit").validate();  
    });  
</script>


<div class="client-edit">

    <form action="{URI|htmlspecialchars}" method="post" id="client-customer-edit" autocomplete="false">

        <div class="two-column-layout layout fibonacci-1-1">
            <div class="layout-wrapper">
                
                <div class="layout-content">
                    <div class="layout-content-wrapper">
                        <div class="layout-column-one of-two">
                            <div class="layout-column-wrapper">

                                <fieldset>
                                    <div class="row title-before advanced">
                                        <span class="label"><label for="client-customer-title-before">{I18N_R_TITLE}</label></span>
                                        <span class="field"><input class="text short" type="text" id="client-customer-title-before" name="client[customer][title_before]" value="{CLIENT.customer.title_before|htmlspecialchars}" title="Your title, ie Ms, Mr, Miss, Dr" /></span>
                                    </div>
                                    <div class="row first-name">
                                        <span class="label"><label for="client-customer-first-name"><span class="mandatory-mark">*</span> {I18N_R_FIRST_NAME}</label></span>
                                        <span class="field"><input class="required text" type="text" id="client-customer-first-name" name="client[customer][first_name]" value="{CLIENT.customer.first_name|htmlspecialchars}" title="Please type here your first name" /></span>
                                    </div>
                                    <div class="row last-name">
                                        <span class="label"><label for="client-customer-last-name"><span class="mandatory-mark">*</span> {I18N_R_LAST_NAME}</label></span>
                                        <span class="field"><input class="required text" type="text" id="client-customer-last-name" name="client[customer][last_name]" value="{CLIENT.customer.last_name|htmlspecialchars}" title="Your family name" /></span>
                                    </div>
                                    <div class="row email">
                                        <span class="label"><label for="client-customer-email"><span class="mandatory-mark">*</span> {I18N_R_EMAIL}</label></span>
                                        <span class="field"><input class="required text" type="email" id="client-customer-email" name="client[customer][email]" value="{CLIENT.customer.email}" title="Your valid email address" /></span>
                                    </div>
                                    <div class="row telephone">
                                        <span class="label"><label for="client-customer-telephone">{I18N_R_TELEPHONE}</label></span>
                                        <span class="field"><input class="text" type="text" id="client-customer-telephone" name="client[customer][telephone]" autocomplete="new-telephone" value="{CLIENT.customer.telephone|htmlspecialchars}" title="Contact telephone number"/></span>
                                    </div>
                                    
                                    <p><a href="#row-password-new" onclick="$('#row-password-new').toggle(); return false;">Do you need to change the password?</a></p>
                                    <div class="row password-new" id="row-password-new" style="display: none;"> <!-- don't show to prevent browser autofill -->
                                        <p>Please rememebr you can send the user link to <a href="/page/9" target="_blank">password reset page</a> where they can change the passsword on their own. Alternatively change the password using the following field.</p>
                                        <span class="label"><label for="client-customer-password-new">{I18N_CHANGE_PASSWORD}</label></span>
                                        <span class="field"><input class="text" type="password" id="client-customer-password-new" name="password_new" autocomplete="new-password" value="" title="Set customer's new password"  /></span>
                                    </div>

                                    <!-- BEGIN: status -->
                                    <div class="row status">
                                        <span class="label" for="client-customer-status"><label>Account Status</label></span>
                                        <span class="field">
                                            <select id="client-customer-status" name="client[customer][status]" >
                                                <option value="0" {SELECTED_status_0}>disabled (can't request new registration, i.e. temporarily locked)</option>
                                                <option value="1" {SELECTED_status_1}>registered</option>
                                                <!--<option value="2" {SELECTED_status_2}>reserved</option>-->
                                                <option value="3" {SELECTED_status_3}>preserved (no authentication method associated, i.e. registered only for newsletter)</option>
                                                <option value="4" {SELECTED_status_4}>deleted (can register again)</option>
                                                <option value="5" {SELECTED_status_5}>guest checkout (can register again)</option>
                                            </select>
                                        </span>
                                    </div>
                                    <!-- END: status -->

                                </fieldset>
                                
                                <fieldset class="advanced">
                                    <div class="row company-name">
                                        <span class="label"><label for="client-company-name">{I18N_R_COMPANY_NAME}</label></span>
                                        <span class="field"><input class="text" type="text" id="client-company-name" name="client[company][name]" value="{CLIENT.company.name|htmlspecialchars}" title="If you register as a company, please enter here your company name" /></span>
                                    </div>
                                    <div class="row company-vat">
                                        <span class="label"><label for="client-company-vat-no">{I18N_R_VAT_NO}</label></span>
                                        <span class="field"><input class="text" type="text" id="client-company-vat-no" name="client[company][vat_no]" value="{CLIENT.company.vat_no|htmlspecialchars}" title="Please enter your company VAT number" /></span>
                                    </div>
                                    <div class="row company-web">
                                        <span class="label"><label for="client-company-www">Web</label></span>
                                        <span class="field"><input class="text" type="text" id="client-company-www" name="client[company][www]" value="{CLIENT.company.www|htmlspecialchars}" /></span>
                                    </div>
                                    <div class="row company-tel">
                                        <span class="label"><label for="client-company-telephone">Telephone</label></span>
                                        <span class="field"><input class="text" type="text" id="client-company-telephone" name="client[company][telephone]" value="{CLIENT.company.telephone|htmlspecialchars}" /></span>
                                    </div>
                                    <div class="row company-fax">
                                        <span class="label"><label for="client-company-fax">Fax</label></span>
                                        <span class="field"><input class="text" type="text" id="client-company-fax" name="client[company][fax]" value="{CLIENT.company.fax|htmlspecialchars}" /></span>
                                    </div>
                                    
                                    <input type="hidden" name="client[company][id]" value="{CLIENT.company.id}">
                                </fieldset>

                                <fieldset class="advanced">
                                    <div class="row facebook-id">
                                        <span class="label"><label for="client-customer-facebook-id">Facebook Id</label></span>
                                        <span class="field"><input class="text" type="text" id="client-customer-facebook-id" name="client[customer][facebook_id]" value="{CLIENT.customer.facebook_id}" /></span>
                                    </div>
                                    <div class="row twitter-id">
                                        <span class="label"><label for="client-customer-twitter-id">Twitter Id</label></span>
                                        <span class="field"><input class="text" type="text" id="client-customer-twitter-id" name="client[customer][twitter_id]" value="{CLIENT.customer.twitter_id}" /></span>
                                    </div>
                                    <div class="row google-id">
                                        <span class="label"><label for="client-customer-google-id">Google Id</label></span>
                                        <span class="field"><input class="text" type="text" id="client-customer-google-id" name="client[customer][google_id]" value="{CLIENT.customer.google_id}" /></span>
                                    </div>
                                    <div class="row profile-image-url">
                                        <span class="label"><label for="client-customer-profile-image-url">Profile Image URL</label></span>
                                        <span class="field"><input class="text" type="text" id="client-customer-profile-image-url" name="client[customer][profile_image_url]" value="{CLIENT.customer.profile_image_url}" /></span>
                                    </div>
                                    <div class="row birthday">
                                        <span class="label"><label for="client-customer-birthday">Birthday</label></span>
                                        <span class="field"><input class="text" type="text" id="client-customer-birthday" name="client[customer][birthday]" value="{CLIENT.customer.birthday}" /></span>
                                    </div>

                                </fieldset>
                                
                                <fieldset class="advanced">
                                    {ONYX_REQUEST_rt #bo/component/relation_taxonomy~relation=customer:id=GET.id~}
                                </fieldset>

                            </div>
                        </div>
                        <div class="layout-column-two of-two with-padding">
                            <div class="layout-column-wrapper">
                                
                                <fieldset>

                                    <!-- BEGIN: role -->
                                        <div class="row role">
                                            <span class="label"><label>Back Office Access Role</label></span>
                                            <span class="field">
                                                <!-- BEGIN: item -->
                                                <input type="checkbox" id="role-ids-{ITEM.id}" name="role_ids[]" value="{ITEM.id}" {CHECKED}/>
                                                <label for="role-ids-{ITEM.id}">{ITEM.name|htmlspecialchars}</label>
                                                <br/>
                                                <!-- END: item -->
                                            </span>
                                        </div>
                                    <!-- END: role -->
                                    
                                </fieldset>
                                <fieldset class="advanced">
                                    <!-- BEGIN: group -->
                                        <div class="row group">
                                            <span class="label"><label>Customer Group</label></span>
                                            <span class="field">
                                                <!-- BEGIN: item -->
                                                <input type="checkbox" id="group-ids-{ITEM.id}" name="group_ids[]" value="{ITEM.id}" {CHECKED}/>
                                                <label for="group-ids-{ITEM.id}">{ITEM.name|htmlspecialchars}</label>
                                                <br/>
                                                <!-- END: item -->
                                            </span>
                                        </div>
                                    <!-- END: group -->                                                                 
                                </fieldset>

                                

                                <fieldset>
                                    <!-- BEGIN: account_type -->
                                    <div class="row account-type">
                                        <span class="label" for="client-customer-account-type"><label>Account Type</label></span>
                                        <span class="field">
                                            <select id="client-customer-account-type" name="client[customer][account_type]" >
                                                <option value="0" {SELECTED_account_type_0}>normal account</option>
                                                <option value="1" {SELECTED_account_type_1}>requested trade</option>
                                                <option value="2" {SELECTED_account_type_2}>approved trade</option>
                                            </select>
                                        </span>
                                    </div>
                                    <!-- END: account_type -->
                                    <div class="row checbox newsletter">
                                        <span class="field"><input type="checkbox" class="checkbox" id="client-customer-newsletter-id" name="client[customer][newsletter]" value="1" {CLIENT.customer.newsletter} /> <label for="client-customer-newsletter-id">{I18N_R_NEWSLETTER}</label></span>
                                    </div>
                                </fieldset>
                                
                                <fieldset class="advanced">
                                    <h3>Customer postal addresses:</h3>
                                    {ADDRESS}
                                </fieldset>
                                
                                <!-- BEGIN: other_data -->
                                <fieldset>
                                <table>
                                    <caption>Other data</caption>
                                    <!-- BEGIN: item -->
                                    <tr><td>{ITEM.key}</td><td>{ITEM.value|htmlspecialchars|nl2br}</td></tr>
                                    <!-- END: item -->
                                </table>
                                </fieldset>
                                <!-- END: other_data -->
                                
                                <fieldset>
                                    <dl>
                                        <dt>Verified:</dt><dd>{CLIENT.customer.verified_email_address}</dd>
                                        <dt>Created:</dt><dd>{CLIENT.customer.created}</dd>
                                        <dt>Modified:</dt><dd>{CLIENT.customer.modified}</dd>
                                    </dl>
                                </fieldset>

                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>

        <p class="extended-toolbar">
            <a class="button" href="/backoffice/advanced/logs?&amp;filter[customer_id]={GET.id}&amp;filter[archive]=1"><span>View Sessions</span></a>
            <a class="button" href="/page/{NODE_CONF.id_map-login}?client[email]={CLIENT.customer.email}"><span>Log In</span></a>
            <a class="button" title="Export customer's orders to CSV file" href="/request/bo/export/csv_orders?customer_id={GET.customer_id}"><span>Export Orders</span></a>
            <a class="button" title="Export customer's orders including purchased products (unpaid orders are not included) to CSV file" href="/request/bo/export/csv_orders?inlude_products=1&amp;customer_id={GET.customer_id}"><span>Export Purchased Products</span></a>
            <a class="button show-advanced-settings" href="#"><span>Show Advanced Settings</span></a>
        </p>


        <div class="row submit">
            <span class="label"><label>&nbsp;</label></span>
            <span class="field"><button class="button save" type="submit" name="save" value="save" onclick="$(this).addClass('saving')" title="Click to save updated records"><span>{I18N_SAVE}</span></button></span>
        </div>

    <input type="hidden" name="csrf_token" value="{CSRF_TOKEN}" />
</form>
</div>

<!-- END: content -->
