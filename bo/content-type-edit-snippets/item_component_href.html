<script type="text/javascript">
$(document).ready(function(){
    $('div.row.href a.button').click(function() {
        $('#href-select').addClass('ajax-load').load('/request/component/menu_js~id=0:expand_all=1:publish=0~', function() {
            $('#href-select').removeClass('ajax-load');
            $('#href-select .simple-tree').simpleTree({
                drag: false,
                autoclose: true,
                afterClick:function(node){
                    var node_id = $('a:first', node).attr('href').match("[0-9]{1,}$");
                    $('#component-href').attr('value', '/page/' + node_id);
                },
                animate: true,
                docToFolderConvert: true
            });
        });
        return false;
    });
});
</script>

<div class="row href">
    <label>URL:</label>
    <input type="text" name="node[component][href]" id="component-href" value="{NODE.component.href}" /> <a class="button" href="#"><span>Browse Server</span></a>
    <div id="href-select"></div>
</div>
