<!-- BEGIN: content -->
{FILE "bo/node/shared_header.html"}

<fieldset>
    {FILE "bo/node/item_title.html"}
    {FILE "bo/node/item_display_title.html"}
</fieldset>

<script type="text/javascript" src="/opt/codemirror/lib/codemirror.js"></script>
<script type="text/javascript" src="/opt/codemirror/addon/search/searchcursor.js"></script>
<script type="text/javascript" src="/opt/codemirror/addon/dialog/dialog.js"></script>
<script type="text/javascript" src="/opt/codemirror/keymap/sublime.js"></script>
<link rel="stylesheet" href="/opt/codemirror/lib/codemirror.css">
<script src="/opt/codemirror/mode/xml/xml.js"></script>

<style type="text/css">
.CodeMirror {border: 1px solid #eee; height: auto;}
#html-code {width: 90%; min-height: 400px;  border: 1px solid black;}
</style>

<fieldset>
    <div class="row">
        <label>HTML Source:</label>
        <textarea id="html-code" name="node[content]" class="html"><!-- BEGIN: empty --><p>enter your content here</p><!-- END: empty -->{NODE.content|htmlspecialchars}</textarea>
    </div>
</fieldset>
<fieldset>
<div class="row image">
    {ONYX_REQUEST_imagelist #bo/component/file_list~type=CSS:relation=node:node_id=GET.id~}
</div>
</fieldset>
    
<script type="text/javascript">
$(document).ready(function() {
    if (typeof(code_mirror_editor_initialized) == 'undefined') {
        code_mirror_editor_initialized = true;
        var editor = CodeMirror.fromTextArea(document.getElementById('html-code'), {lineWrapping: true, keyMap: "sublime"});
    }
});
</script>

{FILE "bo/node/shared_footer.html"}
<!-- END: content -->
