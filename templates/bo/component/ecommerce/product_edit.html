<!-- BEGIN: title -->Product edit<!-- END: title -->
<!-- BEGIN: content -->
{MESSAGES}
<form method="post" action="" class="product-edit">

    <div id="product-edit">

        <div class="two-column-page page">
            
            <div class="page-wrapper">

                <div class="page-header">
                    <div class="page-header-wrapper">
                        <h1 class="page-title"><span>Product Edit</span> <span class="info">ID {PRODUCT.id}</span></h1>
                    </div>
                </div>

                <div class="page-content">
                    <div class="page-content-wrapper">
                        <div class="row-top">
                            <div class="row-wrapper">
                                <div class="column-wrapper">

                                    <div class="two-column-layout fibonacci-5-3">
                                        <div class="layout-column-one of-two">

                                            <fieldset>
                                                <div class="row title">
                                                    <span class="label"><label>Product Name</label></span>
                                                    <span class="field"><input type="text" class="text title long" name="product[name]" value="{PRODUCT.name|htmlspecialchars}" /></span>
                                                </div>
                                                <div class="row name_aka">
                                                    <span class="label"><label>Also Known As / Subtitle (optional)</label></span>
                                                    <span class="field"><input type="text" class="text long" name="product[name_aka]" value="{PRODUCT.name_aka|htmlspecialchars}" /></span>
                                                </div>
                                                <div class="row rte">
                                                    <span class="label"><label>Teaser <a href="#" onclick="hugerte.execCommand('mceToggleEditor', 'simple', 'product-teaser'); return false;"><span>RTE</span></a></label></span>
                                                    <span class="field"><textarea id="product-teaser" name="product[teaser]">{PRODUCT.teaser|htmlspecialchars}</textarea></span>
                                                </div>
                                                <div class="row rte">
                                                    <span class="label"><label>Description <a href="#" onclick="hugerte.execCommand('mceToggleEditor', 'mceAdvanced', 'product_description'); return false;"><span>RTE</span></a></label></span>
                                                    <span class="field"><textarea class="big" style="width: 90%;" name="product[description]" id="product_description">{PRODUCT.description|htmlspecialchars}</textarea></span>
                                                </div>
                                            </fieldset>

                                            <div>
                                                {ONYX_REQUEST_product_in_node #bo/component/ecommerce/product_in_node~product_id=GET.id~}
                                                {ONYX_REQUEST_ptn #bo/component/ecommerce/relation_product_in_nodes}
                                            </div>

                                            <fieldset class="advanced">
                                                <div class="row">
                                                    <span class="label"><label for="product-URL">External URL (i.e. more information link to other website)</label></span>
                                                    <span class="field"><input id="product-URL" type="text" class="text long" name="product[url]" value="{PRODUCT.url|htmlspecialchars}"/></span>
                                                </div>
                                            </fieldset>

                                        </div>
                                        
                                        <div class="layout-column-two of-two">

                                            <fieldset>
                                                <div class="row publish">
                                                    <span class="field"><input type="checkbox" id="product-publish" name="product[publish]" value="1" {PRODUCT.publish} /> <label for="product-publish">Publish</label></span>
                                                </div>
                                                <div class="row schedule">
                                                    {ONYX_REQUEST_scheduler #bo/component/scheduler_list~node_id=GET.id:node_type=ecommerce_product:~}
                                                </div>
                                            </fieldset>

                                            <fieldset>
                                                <legend>Product Varieties</legend>
                                                <div class="row">
                                                    {ONYX_REQUEST_detail #bo/component/ecommerce/product_variety_list~id=GET.id~}
                                                </div>
                                            </fieldset>

                                            <fieldset>
                                            {ONYX_REQUEST_rt #bo/component/relation_taxonomy~relation=product:id=GET.id~}
                                            </fieldset>
                                            
                                            {ONYX_REQUEST_related #bo/component/ecommerce/relation_product_related}

                                            <fieldset class="advanced">
                                                <div class="row">
                                                    <span class="label"><label for="product-priority">Priority. Used when product list sorted by priority (by your suggestion).</label></span>
                                                    <span class="field"><input type="text" id="product-priority" name="product[priority]" value="{PRODUCT.priority}" /></span>
                                                </div>
                                                <p>Product Last Modified {PRODUCT.modified}</p>
                                            </fieldset>

                                        </div>
                                    </div>
                                    
                                    <fieldset>
                                        <legend>Product Images</legend>
                                        <div class="row">
                                            <div class="image">
                                            {ONYX_REQUEST_imagelist #bo/component/file_list~type=add_to_product:relation=product:node_id=GET.id~}
                                            </div>
                                        </div>
                                    </fieldset>

                                    <div class="row advanced">
                                        {ONYX_REQUEST_other_data #bo/component/ecommerce/product_other_data~id=GET.id~}
                                    </div>
                                                                    
                                    <button class="save" type="submit" name="save" value="save"><span>Save</span></button>

                                    <input type="hidden" name="product[id]" value="{GET.id}" />

                                </div>
                            </div>
                        </div>
                        <div class="row-bottom">
                            <div class="row-wrapper">
                                <div class="column-wrapper">
                                    <p>
                                        <a class="button show-advanced-settings" href="#"><span>Show Advanced Settings</span></a>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <input type="hidden" name="csrf_token" value="{CSRF_TOKEN}" />
</form>

{ONYX_REQUEST_tinymce #bo/tinymce~id=GET.id:relation=product:role=RTE_description:mode=exact:edit_elements=product_description:theme=advanced~}

<script type="text/javascript">
hugerte.init({
    selector: "#product-teaser",
    menubar: "false",
    toolbar: "bold",
    invalid_elements : "span,div,form,input,label,button,script,font",
    entity_encoding : "raw"
});
</script>
<!-- END: content -->
