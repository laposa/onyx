<!-- BEGIN: title -->Picture Gallery Edit<!-- END: title -->
<!-- BEGIN: content -->
<div class="pageHeader">
	<div class="pageHeaderWrapper">
		<h1 class="pageTitle popup"><span>Picture Gallery</span> <span class="info">ID {NODE.id}</span></h1>
	</div>
</div>

{FILE "bo/node/form_open.html"}

<div class="twoColumnLayout fibonacci-1-1">
	<div class="layoutColumnOne ofTwo">
		<fieldset>
			{FILE "bo/node/item_title.html"}
		</fieldset>
	</div>
	<div class="layoutColumnTwo ofTwo">
		<fieldset>
		{FILE "bo/node/item_css_class.html"}
		</fieldset>
	</div>
</div>

<fieldset>
	{FILE "bo/node/item_image_list.html"}
</fieldset>

<script type="text/javascript">
function hookNodeEditPostUpdate() {
	opener.window.location.reload(true);
}
</script>

	<fieldset>
		<div class="row advanced">
			<div style="float: left;">
				<span class="label"><label>Width:</label></span>
				<span class="field">
					<select name="node[component][main_image_width]">
						<option value="0" {SELECTED_main_image_width_original}>Original</option>
						<option id="main_image_width_display_size" value="{NODE.component.main_image_width}" {SELECTED_main_image_width_custom}>{NODE.component.main_image_width}</option>
					</select>
				</span>
			</div>
			<div style="float: left;">
				<span class="label"><label>Constrain:</label></span>
				<span class="field">
					<select name="node[component][main_image_constrain]">
						<option value="0" {SELECTED_main_image_constrain_0}>Original</option>
						<option value="1-1" {SELECTED_main_image_constrain_1-1}>Square</option>
						<option value="16-9" {SELECTED_main_image_constrain_16-9}>Landscape 16:9</option>
						<option value="4-3" {SELECTED_main_image_constrain_4-3}>Landscape 4:3</option>
					</select>
				</span>
			</div>
			<div style="float: left;">
				<span class="label"><label>Cropping options:</label></span>
				<span class="field">
					<select name="node[component][fill]">
						<option value="1" {SELECTED_fill_1}>Expand to fill all space</option>
						<option value="0" {SELECTED_fill_0}>Add white space</option>
					</select>
				</span>
			</div>
			<div class="bottom"><span></span></div>
			
			<div style="margin: 10px 0; width: 100%" id="main_image_width_slider"></div>
		</div>
					
		<script type="text/javascript">
		$(function() {
			$('#main_image_width_slider').slider({
				value: {NODE.component.main_image_width},
				min: {IMAGE_CONF.thumbnail_width_min},
				max: {IMAGE_CONF.thumbnail_width_max},
				step: {IMAGE_CONF.thumbnail_step},
				change: function(event, ui) { $('#main_image_width_display_size').attr('value', ui.value); },
				slide : function(event, ui) { $('#main_image_width_display_size').html(ui.value).attr('selected', true); }
			});
		});
		</script>

		
		<div class="row">
			<span class="label"><label>* Type:</label></span>
			<span class="field">
				<select name="node[component][template]">
					<optgroup label="Built-In">
						<option value="fancybox" {SELECTED_template_fancybox}>Fancybox (Lightbox)</option>
						<option value="cycle" {SELECTED_template_cycle}>Cycle</option>
						<option value="cycle2" {SELECTED_template_cycle2}>Cycle2</option>
						<option value="flexslider" {SELECTED_template_flexslider}>Flexslider</option>
						<option value="tools" {SELECTED_template_tools}>jQuery Tools Gallery</option>
						<option value="nivo" {SELECTED_template_nivo}>Nivo Slider</option>
						<option value="prettyphoto" {SELECTED_template_prettyphoto}>prettyPhoto</option>
						<option value="unoslider" {SELECTED_template_unoslider}>Unoslider</option>
						<option value="2columns" {SELECTED_template_2columns}>2columns responsive</option>
						<option value="parallax" {SELECTED_template_parallax}>parallax</option>
						<option value="list" {SELECTED_template_list}>image list with thumbnails</option>
						<option value="plain" {SELECTED_template_plain}>plain</option>
					</optgroup>
					<!-- BEGIN: local_templates -->
					<optgroup label="Local">
						<!-- BEGIN: item -->
						<option value="{ITEM.value}" {ITEM.selected}>{ITEM.name}</option>
						<!-- END: item -->
					</optgroup>
					<!-- END: local_templates -->
				</select>
			</span>
		</div>
	</fieldset>

	<!-- BEGIN: cycle_options -->
	<fieldset style="width: 50%; float: left;">
		<legend>Smooth gallery options</legend>
		<div class="row">
			<span class="label"><label> Effect:</label></span>
			<span class="field">
				<select name="node[component][cycle][fx]">
					<option value="blindX" {SELECTED_cycle_fx_blindX}>blindX</option>
					<option value="blindY" {SELECTED_cycle_fx_blindY}>blindY</option>
					<option value="blindZ" {SELECTED_cycle_fx_blindZ}>blindZ</option>
					<option value="cover" {SELECTED_cycle_fx_cover}>cover</option>
					<option value="curtainX" {SELECTED_cycle_fx_curtainX}>curtainX</option>
					<option value="curtainY" {SELECTED_cycle_fx_curtainY}>curtainY</option>
					<option value="fade" {SELECTED_cycle_fx_fade}>fade</option>
					<option value="fadeZoom" {SELECTED_cycle_fx_fadeZoom}>fadeZoom</option>
					<option value="growX" {SELECTED_cycle_fx_growX}>growX</option>
					<option value="growY" {SELECTED_cycle_fx_growY}>growY</option>
					<option value="scrollUp" {SELECTED_cycle_fx_scrollUp}>scrollUp</option>
					<option value="scrollDown" {SELECTED_cycle_fx_scrollDown}>scrollDown</option>
					<option value="scrollLeft" {SELECTED_cycle_fx_scrollLeft}>scrollLeft</option>
					<option value="scrollRight" {SELECTED_cycle_fx_scrollRight}>scrollRight</option>
					<option value="scrollHorz" {SELECTED_cycle_fx_scrollHorz}>scrollHorz</option>
					<option value="scrollVert" {SELECTED_cycle_fx_scrollVert}>scrollVert</option>
					<option value="shuffle" {SELECTED_cycle_fx_shuffle}>shuffle</option>
					<option value="slideX" {SELECTED_cycle_fx_slideX}>slideX</option>
					<option value="slideY" {SELECTED_cycle_fx_slideY}>slideY</option>
					<option value="toss" {SELECTED_cycle_fx_toss}>toss</option>
					<option value="turnUp" {SELECTED_cycle_fx_turnUp}>turnUp</option>
					<option value="turnDown" {SELECTED_cycle_fx_turnDown}>turnDown</option>
					<option value="turnLeft" {SELECTED_cycle_fx_turnLeft}>turnLeft</option>
					<option value="turnRight" {SELECTED_cycle_fx_turnRight}>turnRight</option>
					<option value="uncover" {SELECTED_cycle_fx_uncover}>uncover</option>
					<option value="wipe" {SELECTED_cycle_fx_wipe}>wipe</option>
					<option value="zoom" {SELECTED_cycle_fx_zoom}>zoom</option>
				</select>
			</span>
		</div>
		
		<div class="row">
			<span class="label"><label>Easing:</label></span>
			<span class="field">
				<select name="node[component][cycle][easing]">
					<option value="disable" {SELECTED_cycle_easing_disable}>disable</option>
					<option value="jswing" {SELECTED_cycle_easing_jswing}>jswing</option>
					<option value="def" {SELECTED_cycle_easing_def}>def</option>
					<option value="easeInQuad" {SELECTED_cycle_easing_easeInQuad}>easeInQuad</option>
					<option value="easeOutQuad" {SELECTED_cycle_easing_easeOutQuad}>easeOutQuad</option>
					<option value="easeInOutQuad" {SELECTED_cycle_easing_easeInOutQuad}>easeInOutQuad</option>
					<option value="easeInCubic" {SELECTED_cycle_easing_easeInCubic}>easeInCubic</option>
					<option value="easeOutCubic" {SELECTED_cycle_easing_easeOutCubic}>easeOutCubic</option>
					<option value="easeInOutCubic" {SELECTED_cycle_easing_easeInOutCubic}>easeInOutCubic</option>
					<option value="easeInQuart" {SELECTED_cycle_easing_easeInQuart}>easeInQuart</option>
					<option value="easeOutQuart" {SELECTED_cycle_easing_easeOutQuart}>easeOutQuart</option>
					<option value="easeInOutQuart" {SELECTED_cycle_easing_easeInOutQuart}>easeInOutQuart</option>
					<option value="easeInQuint" {SELECTED_cycle_easing_easeInQuint}>easeInQuint</option>
					<option value="easeOutQuint" {SELECTED_cycle_easing_easeOutQuint}>easeOutQuint</option>
					<option value="easeInOutQuint" {SELECTED_cycle_easing_easeInOutQuint}>easeInOutQuint</option>
					<option value="easeInSine" {SELECTED_cycle_easing_easeInSine}>easeInSine</option>
					<option value="easeOutSine" {SELECTED_cycle_easing_easeOutSine}>easeOutSine</option>
					<option value="easeInOutSine" {SELECTED_cycle_easing_easeInOutSine}>easeInOutSine</option>
					<option value="easeInExpo" {SELECTED_cycle_easing_easeInExpo}>easeInExpo</option>
					<option value="easeOutExpo" {SELECTED_cycle_easing_easeOutExpo}>easeOutExpo</option>
					<option value="easeInOutExpo" {SELECTED_cycle_easing_easeInOutExpo}>easeInOutExpo</option>
					<option value="easeInCirc" {SELECTED_cycle_easing_easeInCirc}>easeInCirc</option>
					<option value="easeOutCirc" {SELECTED_cycle_easing_easeOutCirc}>easeOutCirc</option>
					<option value="easeInOutCirc" {SELECTED_cycle_easing_easeInOutCirc}>easeInOutCirc</option>
					<option value="easeInElastic" {SELECTED_cycle_easing_easeInElastic}>easeInElastic</option>
					<option value="easeOutElastic" {SELECTED_cycle_easing_easeOutElastic}>easeOutElastic</option>
					<option value="easeInOutElastic" {SELECTED_cycle_easing_easeInOutElastic}>easeInOutElastic</option>
					<option value="easeInBack" {SELECTED_cycle_easing_easeInBack}>easeInBack</option>
					<option value="easeOutBack" {SELECTED_cycle_easing_easeOutBack}>easeOutBack</option>
					<option value="easeInOutBack" {SELECTED_cycle_easing_easeInOutBack}>easeInOutBack</option>
					<option value="easeInBounce" {SELECTED_cycle_easing_easeInBounce}>easeInBounce</option>
					<option value="easeOutBounce" {SELECTED_cycle_easing_easeOutBounce}>easeOutBounce</option>
					<option value="easeInOutBounce" {SELECTED_cycle_easing_easeInOutBounce}>easeInOutBounce</option>
				</select>
			</span>
		</div>
		
		<div class="row">
			<span class="label"><label> Speed:</label></span>
			<span class="field">
				<input type="text" name="node[component][cycle][speed]" value="{NODE.component.cycle.speed}" />ms
			</span>
		</div>
		
		<div class="row">
			<span class="label"><label> Timeout:</label></span>
			<span class="field">
				<input type="text" name="node[component][cycle][timeout]" value="{NODE.component.cycle.timeout}" />ms
			</span>
		</div>
	</fieldset>
	<fieldset class="gallery_links" style="clear: none; width:48%; float: right; margin-left: 2%; ">
		<legend>Optional links on each image (deprecated, use Link to node ID option on each image)</legend>
		<div class="row link_to">
			<span class="label"><label> Link to:</label></span>
			<span class="field">
				<input type="text" style="width: 100%;" name="node[component][cycle][link_to_node_id]" value="{NODE.component.cycle.link_to_node_id}" id="node-component-cycle-link_to_node_id" /> <a class="button"><span>Link to...</span></a>
			</span>
		</div>
		<div id="gallery_link_to_node_id_ajax"></div>
	</fieldset>
	
<script type="text/javascript">
$(document).ready(function(){
	$('fieldset.gallery_links div.link_to a.button').click(function() {
		$('#gallery_link_to_node_id_ajax').addClass('ajaxLoad').load('/request/component/menu_js~id=0:expand_all=1:publish=0:node_group=page_and_product~', function() {
			$('#gallery_link_to_node_id_ajax').removeClass('ajaxLoad');
			$('#gallery_link_to_node_id_ajax .simpleTree').simpleTree({
				drag: false,
				autoclose: true,
				afterClick:function(node){
					var node_id = $('a:first', node).attr('href').match("[0-9]{1,}$");
					var current_value = $('#node-component-cycle-link_to_node_id').attr('value');
					if (current_value == '') $('#node-component-cycle-link_to_node_id').attr('value', node_id);
					else $('#node-component-cycle-link_to_node_id').attr('value', current_value + ',' + node_id);
				},
				animate: true,
				docToFolderConvert: true
			});
		});
		return false;
	});
});
</script>

	<!-- END: cycle_options -->
	
{FILE "bo/node/item_position.html"}
<div class="twoColumnLayout fibonacci-1-1 advanced">
	<div class="layoutColumnOne ofTwo">
		<fieldset>
		{FILE "bo/node/item_display_permission.html"}
		{FILE "bo/node/item_display_permission_group_acl.html"}
		{FILE "bo/node/item_require_login.html"}
		{FILE "bo/node/item_require_ssl.html"}
		</fieldset>
	</div>
	<div class="layoutColumnTwo ofTwo">
		<fieldset>
		{NODE_TYPE}
		{FILE "bo/node/item_signature.html"}
		{FILE "bo/node/item_head.html"}
		</fieldset>
	</div>
</div>

{FILE "bo/node/item_publish.html"}
	
{FILE "bo/node/form_close.html"}
<!-- END: content -->
