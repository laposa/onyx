<!-- BEGIN: title -->Filter<!-- END: title -->
<!-- BEGIN: content -->
<div class="page-header">
	<div class="page-header-wrapper">
		<h1 class="page-title popup"><span>Filter</span> <span class="info">ID {NODE.id}</span></h1>
	</div>
</div>

{FILE "bo/node/content/default_top.html"}

<script type="text/javascript">
$(document).ready(function(){
	$('fieldset.filter-form-edit div.component-node-id a.button').click(function() {
		$('#href-select').addClass('ajax-load').load('/request/component/taxonomy_menu~expand_all=1:publish=1~', function() {
			$('#href-select').removeClass('ajax-load');
			$('#href-select .simple-tree').simpleTree({
				drag: false,
				autoclose: true,
				afterClick:function(node){
					var node_id = $('a:first', node).attr('href').match("[0-9]{1,}$");
					$('#component-node-id').attr('value', node_id);
				},
				animate: true,
				docToFolderConvert: true
			});
		});
		return false;
	});
});
</script>

<fieldset class="filter-form-edit">
	<legend>Menu Edit</legend>
	<div class="row component-node-id">
		<label>*Menu Root:</label>
		<a style="float: right" class="button" href="/backoffice/advanced/taxonomy" target="_blank"><span>manage categories</span></a>
		<input type="text" name="node[component][node_id]" id="component-node-id" value="{NODE.component.node_id}" /> <a class="button" href="#"><span>browse categories</span></a>
		<div id="href-select"></div>
	</div>
	<div class="row">
		<label>*Menu Type:</label>
		<select name="node[component][template]">
			<option value="menu_UL" {SELECTED_menu_UL}>UL</option>
			<option value="menu_SELECT" {SELECTED_menu_SELECT}>SELECT</option>
		</select>
	</div>
</fieldset>

{FILE "bo/node/content/default_bottom.html"}
<!-- END: content -->
